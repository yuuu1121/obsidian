---
date: 2025-03-10
status: Permanent
tags: 
  - Study/OpenCV
aliases: 
keywords: 
related notes: 
reference: 
author: 
url: 
dg-publish: false
---
- 2개의 히스토그램 분포를 비교하는 <span style="color:red;">compareHist(),EMD()</span>함수.
- <span style="color:red;">compareHist()</span> : 상관관계와 같은 통계적 방법에 기초.
- <span style="color:red;">EMD()</span> : 
	- 두 개의 시그니처 분초 사이의 minimal work를 측정.
	- 두 개의 분포 사이의 거리를 계산하기 위한 방법으로 분포 P, Q가 주어질 때, 분포 P를 Q로 변경하는 데 드는 최소 비용 계산. 
	- 같은 시그니처 사이의 EMD = 0.

>cv2.compareHist(H1,H2,method) -> retval
- 두 개의 히스토그램 H1, H2를 method 방법으로 비교.
	- 1. method = cv2.HISTCMP_CORREL
		- ![[3_Archive/1_Attachments/4e761fc72034c22b958180792376a73a_MD5.jpeg|400]]
		- $H_1​(i),H_2​(i)$ : **두 히스토그램의 `i`번째 bin 값**
		- $\bar{H}_1, \bar{H}_2$​ : **각 히스토그램의 평균 값**
		- 분자는 **히스토그램 차이를 곱한 값의 합**
		- 분모는 **각 히스토그램의 분산(standard deviation)을 곱한 값의 제곱근**
		- $-1<=d(H_1,H_2)<=1$, $d(H_1,H_2)$의 절대값이 크면 $H_1,H_2$는 유사한 히스토그램.
	- 2. method = cv2.HISTCMP_CHISQR
		- ![[3_Archive/1_Attachments/880f99d2540d42f05faddf822a4cb3a0_MD5.jpeg|400]]
		- 값이 작을수록(0에 가까울수록) 두 이미지가 유사한 색상 분포를 가짐.
	- 3. method = cv2.HISTCMP_INTERSECT
		- ![[3_Archive/1_Attachments/2d5975a791da1f3cc9ecf31cba10428f_MD5.jpeg|400]]
			- $`min(H_1(i), H_2(i))`$ : **각 bin에서 더 작은 값 선택 (교차 영역)**
			- 두 히스토그램에서 공통적으로 차지하는 영역을 계산.
			- 값이 클수록 **두 히스토그램이 많이 겹친다(유사하다)**
			- 값이 작을수록 **두 히스토그램이 겹치는 부분이 적다 (다름)**
	- 4. method = cv2.HISTCMP_BHATTACHARYYA
